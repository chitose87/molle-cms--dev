(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{365:function(t,e,n){"use strict";(function(t){n(17);var o=n(6),r=n(16),c=n(8),l=n(9),d=n(4),f=n(7),v=(n(5),n(38),n(26),n(11),n(57),n(62),n(166),n(14),n(3)),m=n(40),h=n(20),y=n(34);function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(d.a)(t);if(e){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var C=function(t,e,n,desc){var o,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},O=function(e){Object(c.a)(l,e);var n=_(l);function l(){var t;return Object(o.a)(this,l),(t=n.apply(this,arguments)).importModal=!1,t.deployModal=!1,t.currentCIFlow={},t.schedule={min:"",date:"",active:!1},t.user={email:""},t}return Object(r.a)(l,[{key:"input",value:function(t){}},{key:"localValue",get:function(){return this.value},set:function(t){this.input(t)}},{key:"onLogin",value:function(t){var e=this;m.a.auth().signInWithEmailAndPassword(t.target.email.value,t.target.password.value).then((function(t){t&&(e.localValue=!0)}))}},{key:"onLogout",value:function(){m.a.auth().signOut(),this.localValue=!1}},{key:"checkCI",value:function(){var e=this;this.deployModal=!0,this.$set(this,"currentCIFlow",{reading:!0}),fetch("".concat(t.env.functions,"/").concat("comthink","_ghStatus")).then((function(t){return t.json()})).then((function(t){var n=JSON.parse(t);console.log(n),e.$set(e,"currentCIFlow",n.workflow_runs[0])})),h.a.systemDocRef.get().then((function(t){var data=t.data();e.$set(e.schedule,"date",data.deploySchedule),e.$set(e.schedule,"active",data.deployScheduleActive)}))}},{key:"scheduleUpdate",value:function(){h.a.systemDocRef.update({deploySchedule:this.schedule.date,deployScheduleActive:this.schedule.active})}},{key:"deployQue",value:function(){this.deployModal=!1,h.a.systemDocRef.update({deployQue:!0})}},{key:"onExport",value:function(){h.a.pagesRef.get().then((function(t){var e={pages:{}};t.forEach((function(t){e.pages[t.id]=t.data()}));var a=document.createElement("a");a.href=URL.createObjectURL(new Blob([JSON.stringify(e)],{type:"text/plain"})),a.download="".concat("comthink","-").concat("beta","-pages-").concat((new Date).toUTCString(),".json"),a.click()})),h.a.itemsRef.get().then((function(t){var e={items:{}};t.forEach((function(t){var n=t.data();e.items[t.id]=n}));var a=document.createElement("a");a.href=URL.createObjectURL(new Blob([JSON.stringify(e)],{type:"application/json"})),a.download="".concat("comthink","-").concat("beta","-items-").concat((new Date).toUTCString(),".json"),a.click()}))}},{key:"onImport",value:function(t){var e=t.target.files.files;if(0!=e.length){if(window.confirm("\nこの作業は破壊的な変更です。\n同一のIDの場合、既存のデータがすべて上書きされます。\n重複するjsonデータを読み込む場合、優先順位に規則性はありません。\nよろしいですか？")){for(var n=[],o=[],r=function(i){o.push(new Promise((function(t,o){var r=new FileReader;r.onload=function(e){try{var data=JSON.parse(e.target.result),o=data.pages||data.items,r=data.pages?h.a.pagesRef:data.items?h.a.itemsRef:new Error;for(var c in o)n.push({cmd:"set",ref:r.doc(c),data:o[c]});t()}catch(e){alert(e)}},r.readAsText(e[i])})))},i=0;i<e.length;i++)r(i);Promise.all(o).then((function(){console.log(n.length),y.a.updateBatch(n).then((function(){alert("complete")}))}))}}else alert("ファイルが選択されていません。")}},{key:"cleanup",value:function(){console.log("cleanup");var t=[];Promise.all([h.a.pagesRef.get(),h.a.itemsRef.get(),h.a.logsRef.get()]).then((function(e){var n={};for(var o in e[1].forEach((function(t){n[t.id]=t.data(),n[t.id]._count=0})),n){var r=n[o],c=!1;if("children"==r.type||"group"==r.type){for(var i in r.value){var l=r.value[i],d=l.id||l;n[d]&&(n[d]._count+=1),"string"==typeof l&&(r.value[i]={id:l},c=!0)}c&&t.push({cmd:"update",ref:h.a.itemsRef.doc(o),data:{value:r.value}})}}e[0].forEach((function(t){var e=t.data();n[e.itemId]&&(n[e.itemId]._count+=1)})),console.log(Object.keys(n).length);for(var f=!0;f;)for(var v in f=!1,n){var m=n[v];if(!m._count){if(console.log("delete",v),"children"==m.type||"group"==m.type)for(var _ in m.value){var C=m.value[_],O=C.id||C;n[O]&&(n[O]._count-=1)}t.push({cmd:"delete",ref:h.a.itemsRef.doc(v)}),delete n[v],f=!0}}e[2].forEach((function(e){n[e.id]||t.push({cmd:"delete",ref:h.a.logsRef.doc(e.id)})})),console.log(t.length),t.length?y.a.updateBatch(t).then((function(){alert("完了しました。結果はconsoleを確認してください")})):alert("未参照のitemはありませんでした。")}))}},{key:"sendPasswordResetEmail",value:function(){var t=this;m.a.auth().sendPasswordResetEmail(this.user.email).then((function(t){alert("パスワード再設定メールをリクエストしました。メールをご確認ください")})).catch((function(e){alert(e+"/"+t.user.email)}))}}]),l}(v.Vue);C([Object(v.Prop)()],O.prototype,"value",void 0),C([Object(v.Emit)()],O.prototype,"input",null),O=C([Object(v.Component)({components:{}})],O),e.a=O}).call(this,n(86))},368:function(t,e,n){},369:function(t,e,n){},370:function(t,e,n){},371:function(t,e,n){},372:function(t,e,n){},373:function(t,e,n){},380:function(t,e,n){"use strict";n(368)},381:function(t,e,n){"use strict";n(369)},382:function(t,e,n){"use strict";n(370)},383:function(t,e,n){"use strict";n(371)},384:function(t,e,n){"use strict";n(372)},385:function(t,e,n){"use strict";n(373)},391:function(t,e,n){"use strict";n.r(e);n(17);var o=n(6),r=n(16),c=n(8),l=n(9),d=n(4),f=n(7),v=(n(5),n(11),n(3)),m=n(20),h=n(365).a,y=(n(380),n(10)),_=Object(y.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"molle-tool-bar"},[t.localValue?n("div",[n("div",{staticClass:"mb-2"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.checkCI}},[n("span",[t._v(t._s(t.$words.release)+" "+t._s(t.$words.settings))])]),t.deployModal?n("div",{staticClass:"modal",attrs:{"aria-expanded":t.deployModal}},[n("div",{staticClass:"modal__fiexd"},[n("div",{staticClass:"modal__close",on:{click:function(e){t.deployModal=!t.deployModal}}}),n("div",{staticClass:"modal__body"},[n("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:t.deployQue}},[n("span",[t._v(t._s(t.$words.immediate)+" "+t._s(t.$words.execution))])]),t._m(0),n("hr"),n("div",{staticClass:"form-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.schedule.date,expression:"schedule.date"}],staticClass:"form-control mr-2",attrs:{type:"date"},domProps:{value:t.schedule.date},on:{change:t.scheduleUpdate,input:function(e){e.target.composing||t.$set(t.schedule,"date",e.target.value)}}}),n("label",{staticClass:"btn btn-outline-primary"},[n("span",{staticClass:"mr-2"},[t._v(t._s(t.$words.reserve))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.schedule.active,expression:"schedule.active"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.schedule.active)?t._i(t.schedule.active,null)>-1:t.schedule.active},on:{change:[function(e){var n=t.schedule.active,o=e.target,r=!!o.checked;if(Array.isArray(n)){var c=t._i(n,null);o.checked?c<0&&t.$set(t.schedule,"active",n.concat([null])):c>-1&&t.$set(t.schedule,"active",n.slice(0,c).concat(n.slice(c+1)))}else t.$set(t.schedule,"active",r)},t.scheduleUpdate]}})])]),n("p",{staticClass:"caption"},[t._v("*指定日の朝9時頃に実行されます。")]),n("hr"),n("h4",[t._v("Github "+t._s(t.$words.actions)+" "+t._s(t.$words.status)+".")]),t.currentCIFlow.reading?n("div",[n("p",[t._v(t._s(t.$words.checking)+"…")])]):n("div",[n("p",[n("span",[t._v(t._s(t.$words.task)+"：")]),n("span",{domProps:{innerHTML:t._s(t.currentCIFlow.name)}})]),n("p",[n("span",[t._v(t._s(t.$words.status)+"：")]),n("span",{domProps:{innerHTML:t._s(t.currentCIFlow.status)}})]),n("p",[n("span",[t._v(t._s(t.$words.conclusion)+"：")]),n("span",{domProps:{innerHTML:t._s(t.currentCIFlow.conclusion)}})]),n("p",[n("span",[t._v(t._s(t.$words.date)+"：")]),n("span",{domProps:{innerHTML:t._s(t.currentCIFlow.created_at)}})])])])])]):t._e()]),n("hr"),n("div",{staticClass:"mb-2"},[n("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:t.onExport}},[n("span",[t._v(t._s(t.$words.export))])])]),n("div",{staticClass:"mb-2"},[n("button",{staticClass:"btn btn-warning",attrs:{type:"submit"},on:{click:function(e){t.importModal=!0}}},[n("span",[t._v(t._s(t.$words.import))])]),t.importModal?n("div",{staticClass:"modal",attrs:{"aria-expanded":t.importModal}},[n("div",{staticClass:"modal__fiexd"},[n("div",{staticClass:"modal__close",on:{click:function(e){t.importModal=!t.importModal}}}),n("div",{staticClass:"modal__body"},[n("form",{on:{submit:[function(t){t.preventDefault()},t.onImport]}},[n("input",{attrs:{type:"file",name:"files",accept:"application/json",multiple:""}}),n("button",{staticClass:"btn btn-info",attrs:{type:"submit"}},[n("span",[t._v(t._s(t.$words.import))])])])])])]):t._e()]),n("hr"),n("div",{staticClass:"mb-2"},[n("button",{staticClass:"btn btn-danger",on:{click:t.cleanup}},[n("span",[t._v(t._s(t.$words.dataClean))])])]),n("div",{staticClass:"mb-2"},[n("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:t.onLogout}},[n("span",[t._v(t._s(t.$words.logout))])])])]):n("div",[n("form",{staticClass:"form-group",on:{submit:[function(t){t.preventDefault()},t.onLogin]}},[n("label",[t._v(t._s(t.$words.mail)+":"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control form-control-sm",attrs:{type:"email",name:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),n("label",[t._v(t._s(t.$words.password)+":"),n("input",{staticClass:"form-control form-control-sm",attrs:{type:"password",name:"password"}})]),n("button",{staticClass:"btn btn-info",attrs:{type:"submit"}},[n("span",[t._v(t._s(t.$words.login))])]),n("button",{staticClass:"btn btn-link btn-sm",on:{click:t.sendPasswordResetEmail}},[n("b-icon",{attrs:{icon:"envelope"}}),n("span",[t._v(t._s(t.$words.password)+" "+t._s(t.$words.resetting))])],1)])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"caption"},[t._v("5~10分程度かかります。"),n("br"),t._v("1日あたり100分を超えると料金が発生します。")])}],!1,null,null,null).exports;function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(d.a)(t);if(e){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var O=function(t,e,n,desc){var o,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},w=function(t){Object(c.a)(n,t);var e=C(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"created",value:function(){}},{key:"mounted",value:function(){}},{key:"updatePage",value:function(t,e){m.a.pagesRef.doc(t).update(e)}},{key:"deletePage",value:function(t){m.a.pagesRef.doc(t).delete()}}]),n}(v.Vue);O([Object(v.Prop)()],w.prototype,"pages",void 0);var j=w=O([Object(v.Component)({components:{}})],w),x=(n(381),Object(y.a)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"list-group"},t._l(t.pages,(function(e,o){return n("li",{staticClass:"list-group-item list-group-item-action d-flex justify-content-between"},[n("a",{staticClass:"mr-2",attrs:{href:"/"+e.path+"?edit=true"}},[n("span",{domProps:{innerHTML:t._s(e.path)}}),n("b-icon",{attrs:{icon:"chevron-right"}})],1),n("span",{staticClass:"mr-2 ml-auto",domProps:{innerHTML:t._s(e.title||"{no title}")}}),e.date?n("div",[n("span",{staticClass:"mr-2"},[t._v(":")]),n("span",{staticClass:"mr-2",domProps:{innerHTML:t._s(e.date)}})]):t._e(),n("label",{staticClass:"small form-inline mr-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.noExport,expression:"item.noExport"}],staticClass:"form-control form-control-sm",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.noExport)?t._i(e.noExport,null)>-1:e.noExport},on:{change:[function(n){var o=e.noExport,r=n.target,c=!!r.checked;if(Array.isArray(o)){var l=t._i(o,null);r.checked?l<0&&t.$set(e,"noExport",o.concat([null])):l>-1&&t.$set(e,"noExport",o.slice(0,l).concat(o.slice(l+1)))}else t.$set(e,"noExport",c)},function(n){return t.updatePage(o,e)}]}}),n("span",[t._v(":"+t._s(t.$words.donotExport))])]),n("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.deletePage(o)}}},[t._v(t._s(t.$words.delete))])])})),0)}),[],!1,null,null,null).exports),R=n(34);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(d.a)(t);if(e){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var $=function(t,e,n,desc){var o,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},P=function(t){Object(c.a)(n,t);var e=k(n);function n(){var t;return Object(o.a)(this,n),(t=e.apply(this,arguments)).dataObj={id:"",date:"",title:"",itemId:"",option:{}},t}return Object(r.a)(n,[{key:"created",value:function(){}},{key:"mounted",value:function(){}},{key:"add",value:function(){var path=this.prefix+(this.dataObj.id||this.dataObj.date),t=encodeURIComponent(path),e=this.dataObj.itemId||t;m.a.pagesRef.doc(t).set({path:path,itemId:e,title:this.dataObj.title,date:this.dataObj.date,noExport:"_no-export/"==this.prefix}),R.a.updateItem(e,this.$molleModules.Box.def,!0),window.open("/"+this.prefix+(this.dataObj.id||this.dataObj.date)+"?edit=true","_blank")}}]),n}(v.Vue);$([Object(v.Prop)({default:""})],P.prototype,"prefix",void 0),$([Object(v.Prop)({default:!1})],P.prototype,"isDateField",void 0),$([Object(v.Prop)()],P.prototype,"tags",void 0);var E=P=$([Object(v.Component)({components:{}})],P),L=(n(382),Object(y.a)(E,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("h3",{staticClass:"mt-0"},[n("b-icon",{attrs:{icon:"file-earmark-plus"}}),t._v(t._s(t.$words.add))],1)]),n("div",{staticClass:"card-body"},[t.isDateField?n("p",[n("label",{staticClass:"form-inline"},[n("span",{staticClass:"mr-2"},[t._v("日付:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.dataObj.date,expression:"dataObj.date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.dataObj.date},on:{input:function(e){e.target.composing||t.$set(t.dataObj,"date",e.target.value)}}})])]):t._e(),n("p",[n("label",{staticClass:"form-inline"},[n("span",{staticClass:"mr-2"},[t._v("ディレクトリ指定:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.dataObj.id,expression:"dataObj.id"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.dataObj.id},on:{input:function(e){e.target.composing||t.$set(t.dataObj,"id",e.target.value)}}})])]),t.tags?n("p",[n("label",{staticClass:"form-inline"},[n("span",{staticClass:"mr-2"},[t._v("タグ:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.dataObj.option.tag,expression:"dataObj.option.tag"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.dataObj.option,"tag",e.target.multiple?n:n[0])}}},t._l(t.tags,(function(e){return n("option",{domProps:{value:Object.keys(e)[0],innerHTML:t._s(e[Object.keys(e)[0]])}})})),0)])]):t._e(),n("p",[n("label",{staticClass:"form-inline"},[n("span",{staticClass:"mr-2"},[t._v("Box id (Option):")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.dataObj.itemId,expression:"dataObj.itemId"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.dataObj.itemId},on:{input:function(e){e.target.composing||t.$set(t.dataObj,"itemId",e.target.value)}}})])]),n("p",[n("label",{staticClass:"w-100 mr-2"},[n("span",[t._v("タイトル:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.dataObj.title,expression:"dataObj.title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.dataObj.title},on:{input:function(e){e.target.composing||t.$set(t.dataObj,"title",e.target.value)}}})])]),n("p",{staticClass:"mb-1"},[n("span",{staticClass:"mr-2"},[t._v("生成Path :")]),n("span",[t._v("/"+t._s(t.prefix+(t.dataObj.id||t.dataObj.date||"***")))])]),n("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button",disabled:""===t.dataObj.date&&""===t.dataObj.id},on:{click:t.add}},[t._v(t._s(t.$words.add))])])])}),[],!1,null,null,null).exports),I=n(40);function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(d.a)(t);if(e){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var D=function(t,e,n,desc){var o,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},S=function(t){Object(c.a)(n,t);var e=M(n);function n(){var t;return Object(o.a)(this,n),(t=e.apply(this,arguments)).flag=!1,t.inited=!1,t.users={},t.uid=I.a.auth().currentUser.uid,t.selfUserData={name:""},t}return Object(r.a)(n,[{key:"onOpen",value:function(){var t=this;this.inited||(this.inited=!0,I.a.firestore().doc("_settings/options").onSnapshot((function(t){console.log(t.data())})),m.a.getUsers((function(e){t.$set(t,"users",e),t.$set(t,"selfUserData",e[t.uid]||{})})))}},{key:"onChangeUserName",value:function(){var t={};t[this.uid]=this.selfUserData,I.a.firestore().doc("_settings/users").update(t)}}]),n}(v.Vue);D([Object(v.Watch)("flag")],S.prototype,"onOpen",null);var U=S=D([Object(v.Component)({components:{}})],S),A=(n(383),Object(y.a)(U,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"project-settings-comp"},[n("h2",{staticClass:"p-3 mt-0 mb-4 text-white bg-success",on:{click:function(e){t.flag=!t.flag}}},[n("b-icon",{staticClass:"mr-2",attrs:{icon:"tools"}}),t._v(t._s(t.$words.project)+" "+t._s(t.$words.settings)),n("b-icon",{attrs:{icon:t.flag?"chevron-up":"chevron-down"}})],1),t.flag?n("div",[n("div",[n("span",{domProps:{innerHTML:t._s(t.uid)}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.selfUserData.name,expression:"selfUserData.name"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:t.selfUserData.name},on:{change:function(){t.onChangeUserName()},input:function(e){e.target.composing||t.$set(t.selfUserData,"name",e.target.value)}}})]),n("h4",{staticClass:"mb-2"},[t._v("ADDED/追加された機能")]),t._m(0),n("h4",{staticClass:"mb-2"},[t._v("READY/追加可能機能")]),n("h4",{staticClass:"mb-2"},[t._v("TODO")]),t._m(1)]):t._e()])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[t._v("自動デプロイ機能 new!")]),n("li",[t._v("未使用モジュールの一括削除")]),n("li",[t._v("管理画面のデザイン変更")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[t._v("変更ログ・アンドゥ")]),n("li",[t._v("モジュール入れ替え(loop注意)")]),n("li",[t._v("継承・拡張")]),n("li",[t._v("itemData内に使用されているmodule-idを管理")]),n("li",[t._v("データ連携モジュール")]),n("li",[t._v("カスタムセット登録")]),n("li",[t._v("firebaseに上げた画像をdeploy時にhostingサーバーに移動させるOption")])])}],!1,null,null,null).exports);function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(d.a)(t);if(e){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var V=function(t,e,n,desc){var o,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},N=function(t){Object(c.a)(n,t);var e=B(n);function n(){var t;return Object(o.a)(this,n),(t=e.apply(this,arguments)).flag=!1,t.inited=!1,t}return Object(r.a)(n,[{key:"onOpen",value:function(){this.inited||(this.inited=!0)}}]),n}(v.Vue);V([Object(v.Watch)("flag")],N.prototype,"onOpen",null);var T=N=V([Object(v.Component)({components:{}})],N),F=(n(384),Object(y.a)(T,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"site-settings-comp"},[n("h2",{staticClass:"p-3 mt-0 mb-4 text-white bg-success",on:{click:function(e){t.flag=!t.flag}}},[n("b-icon",{staticClass:"mr-2",attrs:{icon:"tools"}}),t._v(t._s(t.$words.site)+" "+t._s(t.$words.settings)),n("b-icon",{attrs:{icon:t.flag?"chevron-up":"chevron-down"}})],1),t.flag?n("div"):t._e()])}),[],!1,null,null,null).exports);function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(d.a)(t);if(e){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var J=function(t,e,n,desc){var o,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},Q=function(t){Object(c.a)(n,t);var e=H(n);function n(){var t;return Object(o.a)(this,n),(t=e.apply(this,arguments)).version="0.8",t.pages={},t.isLogin=!1,t}return Object(r.a)(n,[{key:"head",value:function(){return{title:"[MOLLE]{{MOLLE CMS v0.1}}"}}},{key:"created",value:function(){var t=this;m.a.firebaseInit((function(e){e&&(t.$set(t,"isLogin",!0),m.a.pagesRef.onSnapshot((function(e){var n={news:{},noExport:{},universal:{}};e.forEach((function(t){var e=t.data();0==e.path.indexOf("news/")?n.news[t.id]=e:0==e.path.indexOf("_no-export/")?n.noExport[t.id]=e:n.universal[t.id]=e})),t.$set(t,"pages",n)})))}))}}]),n}(v.Vue),W=Q=J([Object(v.Component)({components:{IndexPageAddView:L,SiteSettingsComp:F,ProjectSettingsComp:A,IndexPageListView:x,MolleToolbar:_}})],Q),z=(n(385),Object(y.a)(W,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"molle-sys-ui bootstrap"},[n("div",{staticClass:"d-flex flex-nowrap"},[n("div",{staticStyle:{width:"210px","z-index":"100"}},[n("div",{staticClass:"container-fluid position-sticky pt-3 pb-3",staticStyle:{top:"0"}},[t._m(0),n("p",{staticClass:"text-info"},[t._v("Contents Management System v"+t._s(t.version))]),n("hr"),t.isLogin?n("ul",[n("li",[n("a",{staticClass:"btn-link",attrs:{href:"#readme"}},[n("b-icon",{staticClass:"mr-2",attrs:{icon:"book"}}),t._v(t._s(t.$words.readme))],1)]),n("li",[n("a",{staticClass:"btn-link",attrs:{href:"#news"}},[n("b-icon",{staticClass:"mr-2",attrs:{icon:"newspaper"}}),t._v(t._s(t.$words.news))],1)]),n("li",[n("a",{staticClass:"btn-link",attrs:{href:"#universal"}},[n("b-icon",{staticClass:"mr-2",attrs:{icon:"file-earmark"}}),t._v(t._s(t.$words.universal))],1)]),n("li",[n("a",{staticClass:"btn-link",attrs:{href:"#no-export"}},[n("b-icon",{staticClass:"mr-2",attrs:{icon:"file-x"}}),t._v("非出力ページ")],1)])]):t._e(),n("MolleToolbar",{model:{value:t.isLogin,callback:function(e){t.isLogin=e},expression:"isLogin"}})],1)]),t.isLogin?n("div",{staticClass:"w-100"},[n("div",{staticClass:"container-fluid"},[n("section",{staticClass:"mt-1r mb-6r",attrs:{id:"readme"}},[n("ModuleLoader",{attrs:{node:{id:"_readme"}}})],1),n("section",{staticClass:"mt-1r mb-6r",attrs:{id:"news"}},[n("h2",{staticClass:"p-3 mt-0 mb-4 bg-info text-white"},[n("b-icon",{staticClass:"mr-2",attrs:{icon:"newspaper"}}),t._v(t._s(t.$words.news))],1),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("IndexPageListView",{attrs:{pages:t.pages.news}})],1),n("div",{staticClass:"col-4"},[n("IndexPageAddView",{staticClass:"position-sticky",attrs:{prefix:"news/",isDateField:!0,tags:[{1:"お知らせ"},{2:"活動報告"}]}})],1)])]),n("section",{staticClass:"mt-1r mb-6r",attrs:{id:"universal"}},[n("h2",{staticClass:"p-3 mt-0 mb-4 bg-info text-white"},[n("b-icon",{staticClass:"mr-2",attrs:{icon:"file-earmark"}}),t._v(t._s(t.$words.universal))],1),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("IndexPageListView",{attrs:{pages:t.pages.universal}})],1),n("div",{staticClass:"col-4"},[n("IndexPageAddView",{staticClass:"position-sticky"})],1)])]),n("section",{staticClass:"mt-1r mb-6r",attrs:{id:"no-export"}},[n("h2",{staticClass:"p-3 mt-0 mb-4 bg-info text-white"},[n("b-icon",{staticClass:"mr-2",attrs:{icon:"file-x"}}),t._v("非出力ページ")],1),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("IndexPageListView",{attrs:{pages:t.pages.noExport}})],1),n("div",{staticClass:"col-4"},[n("IndexPageAddView",{staticClass:"position-sticky",attrs:{prefix:"_no-export/"}})],1)])]),n("section",{staticClass:"mt-1r mb-6r",attrs:{id:"site"}},[n("SiteSettingsComp")],1),n("section",{staticClass:"mt-1r mb-6r",attrs:{id:"project"}},[n("ProjectSettingsComp")],1)])]):t._e()])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",{staticClass:"text-info mt-0"},[n("span",{staticClass:"text-nowrap"},[t._v("MOdular")]),n("span",{staticClass:"text-nowrap"},[t._v("Light")]),n("span",{staticClass:"text-nowrap"},[t._v("Layout")]),n("span",{staticClass:"text-nowrap"},[t._v("Easy")])])}],!1,null,null,null));e.default=z.exports}}]);