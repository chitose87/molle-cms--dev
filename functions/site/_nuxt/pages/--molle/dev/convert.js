(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{410:function(e,t,n){n(411)},411:function(e,t,n){"use strict";var r=n(25),o=n(56),l=n(125),c=n(126),f=n(261),m=n(39),h=n(64),d=m("replace"),v=RegExp.prototype,y=Math.max,j=function(e,t,n){return n>e.length?-1:""===t?n:e.indexOf(t,n)};r({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,m,O,S,w,x,M,R=o(this),A=0,L=0,k="";if(null!=e){if((n=l(e))&&!~String(o("flags"in v?e.flags:c.call(e))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(r=e[d]))return r.call(e,R,t);if(h&&n)return String(R).replace(e,t)}for(m=String(R),O=String(e),(S="function"==typeof t)||(t=String(t)),w=O.length,x=y(1,w),A=j(m,O,0);-1!==A;)M=S?String(t(O,A,m)):f(O,m,A,[],void 0,t),k+=m.slice(L,A)+M,L=A+w,A=j(m,O,A+x);return L<m.length&&(k+=m.slice(L)),k}})},426:function(e,t,n){"use strict";n.r(t);n(16);var r=n(5),o=n(17),l=n(8),c=n(9),f=n(4),m=n(7),h=(n(6),n(33),n(11),n(410),n(23),n(28),n(70),n(75),n(48),n(55),n(163),n(2));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var v=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},y=function(e){Object(l.a)(n,e);var t=d(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).html="",e}return Object(o.a)(n,[{key:"hoge",value:function(){var e=this;console.log("ConvertPage");var t="https://www.comthink.co.jp/news/2022/",n={pages:{},items:{}};fetch("http://localhost:5001/nct-comthink/us-central1/getHtml?url=".concat(encodeURIComponent(t))).then((function(e){return e.json()})).then((function(html){var r=[],o=document.createElement("div");o.innerHTML=html,o.querySelectorAll(".topicsListBox").forEach((function(o){var text=o.querySelector(".topicDigestText");if(text.querySelector("a")){var body=text.querySelector("h2 + p"),img=o.querySelector(".topicDigestPhoto"),l={title:text.querySelector("a").innerHTML.replaceAll("\n","").replaceAll("\t",""),date:text.querySelector(".topicDate").innerHTML.replaceAll(".","-"),noExport:!1},c="news%2F"+l.date;l.itemId=c,l.path="news/"+l.date,img&&(l.thumb="https://storage.googleapis.com/nct-comthink.appspot.com/corporate/old-site/"+img.querySelector("img").getAttribute("src").replace("../../../images/","").replace("../../images/","").replace("../images/","").replace("./images/","").replace("/images/","")),n.pages[c]=l;var f=e.$molleModules.Box.getItemData();n.items[c]=f;var m=c+"_s",section=e.$molleModules.Section.getItemData();if(n.items[m]=section,f.value.push({id:m}),text.querySelector("a")){var h=text.querySelector("a").getAttribute("href");if(h.includes("../"))r.push(fetch("http://localhost:5001/nct-comthink/us-central1/getHtml?url=".concat(encodeURIComponent(t+h))).then((function(e){return e.json()})).then((function(html){var t=document.createElement("div");t.innerHTML=html,t.querySelector(".topicDate").remove(),t.querySelectorAll(".topicsArticleBox img, .topicsArticleBox p").forEach((function(t){if(m=c+"_"+section.value.length,section.value.push({id:m}),"IMG"==t.tagName){var r=t.getAttribute("src").replace("../../../images/","").replace("../../images/","").replace("../images/","").replace("./images/","").replace("/images/","");n.items[m]=Object.assign(e.$molleModules.Picture.getItemData(),{value:"https://storage.googleapis.com/nct-comthink.appspot.com/corporate/old-site/"+r,option:{alt:t.getAttribute("alt")},class:{align:"text-center"}})}else{if(!t.innerHTML)return;n.items[m]=Object.assign(e.$molleModules.Paragraph.getItemData(),{value:t.innerHTML})}}))})));else{var d=body.innerHTML.replaceAll("\n","").replaceAll("\t","");d&&(m=c+"_"+section.value.length,section.value.push({id:m}),n.items[m]=Object.assign(e.$molleModules.Paragraph.getItemData(),{value:d})),m=c+"_"+section.value.length,section.value.push({id:m}),n.items[m]=Object.assign(e.$molleModules.ButtonList.getItemData(),{class:{align:"text-center"}}),n.items[m].value=[{id:m+"b"}],n.items[m+"b"]=Object.assign(e.$molleModules.Button.getItemData(),{value:"more",option:{href:h,target:"_blank"},class:{color:"-primary"}})}}}})),Promise.all(r).then((function(){console.log(n);var a=document.createElement("a");a.href=URL.createObjectURL(new Blob([JSON.stringify({pages:n.pages})],{type:"text/plain"})),a.download="news-pages.json",a.click(),a.href=URL.createObjectURL(new Blob([JSON.stringify({items:n.items})],{type:"text/plain"})),a.download="news-items.json",a.click()}))}))}}]),n}(h.Vue),j=y=v([Object(h.Component)({components:{}})],y),O=n(10),component=Object(O.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("ConvertPage")]),n("button",{staticClass:"btn btn-primary",on:{click:e.hoge}},[n("span",[e._v("submit")])]),n("div",{domProps:{innerHTML:e._s(e.html)}})])}),[],!1,null,null,null);t.default=component.exports}}]);